<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gradient Craft</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Google Fonts (Modern Font for readability) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f7f7f7;
      }

      .container {
        width: 60%;
        /* height: 80%; */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        background: white;
        border-radius: 10px;
        padding: 30px;
        display: flex;
        flex-direction: column;
      }

      .gradient-preview {
        width: 100%;
        height: 200px;
        border: 1px solid #ccc;
        border-radius: 8px;
        margin-top: 20px;
        transition: background 0.3s ease;
        box-shadow: 2px 2px 2px;
      }

      .input-group {
        margin-bottom: 20px;
      }

      .copy-icon {
        cursor: pointer;
        padding: 5px;
        border-radius: 5px;
        z-index: 1;
        position: absolute;
        right: 5px;
        background-color: rgb(255, 255, 255);
        width: 25px;
        height: 25px;
        box-shadow: 1px 1px 5px black;
      }

      .add-color-btn {
        background-color: #28a745;
        border: none;
        color: white;
        border-radius: 5px;
        cursor: pointer;
      }

      .remove-color-btn {
        background-color: #dc3545;
        border: none;
        color: white;
        border-radius: 5px;
        cursor: pointer;
      }

      .add-color-btn:hover,
      .remove-color-btn:hover {
        background-color: #218838;
      }

      input[type="color"] {
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 5px;
      }

      select {
        width: auto;
      }

      .input-container {
        margin-bottom: 10px;
      }

      .input-label {
        font-weight: 500;
      }

      .input-col {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .col-md-6 {
        padding-right: 0;
      }

      @media (max-width: 1000px) {
        .container {
          width: 90%;
          height: auto;
        }
        .row {
          flex-direction: column;
        }
        .col-md-6 {
          width: 100%;
        }
      }

      .color-inputs {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: space-between;
      }

      .color-inputs .input-container {
        flex: 1 1 48%;
      }

      .color-inputs div,
      #extraColors div {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #extraColors {
        display: flex;
        justify-content: space-evenly;
      }

      .input-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        position: relative;
      }

      .input-container .input-label {
        text-wrap-mode: nowrap;
      }
      .gc {
        width: fit-content;
        place-self: center;
        box-shadow: 2px 2px 4px black;
        border-radius: 10px;
      }
      #rcb {
        box-shadow: 2px 2px 4px black;
        width: fit-content;
        place-self: center;
      }
      #liveToast {
        box-shadow: 2px 2px 6px black;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2 class="text-center mb-4">Gradient Craft</h2>
      <div class="row">
        <!-- Inputs Section -->
        <div class="col-md-6">
          <div class="input-col">
            <!-- Color Inputs -->
            <div class="color-inputs">
              <div class="input-container">
                <label class="input-label" for="color1">Color 1:</label>
                <input
                  type="color"
                  id="color1"
                  value="#ff7b00"
                  class="form-control"
                />
              </div>

              <div class="input-container">
                <label class="input-label" for="color2">Color 2:</label>
                <input
                  type="color"
                  id="color2"
                  value="#00b3b3"
                  class="form-control"
                />
              </div>
            </div>

            <!-- Add Color Button -->
            <button
              id="rcb"
              class="add-color-btn mb-3"
              onclick="addColorInput()"
            >
              Add More Colors
            </button>

            <!-- Additional Color Inputs (Initially Hidden) -->
            <div id="extraColors" class="mb-3"></div>

            <!-- Gradient Direction -->
            <div class="input-container">
              <label class="input-label" for="direction"
                >Gradient Direction:</label
              >
              <select id="direction" class="form-select">
                <option value="to right">Left to Right</option>
                <option value="to bottom">Top to Bottom</option>
                <option value="to top right">Top-Left to Bottom-Right</option>
                <option value="to bottom right">
                  Top-Right to Bottom-Left
                </option>
                <option value="to top">Bottom to Top</option>
                <option value="to left">Right to Left</option>
                <option value="to top left">Bottom-Right to Top-Left</option>
              </select>
            </div>

            <!-- Gradient CSS Code Display -->
            <div class="input-container">
              <input
                type="text"
                id="gradientCode"
                class="form-control"
                readonly
              />
              <div
                id="liveToastBtn"
                class="copy-icon d-flex align-items-center justify-content-center ms-2"
                style="border: 1px solid #ced4dad0; border-radius: 5px"
                onclick="copyCode()"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                data-bs-title="Copy to clipboard"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  height="16"
                  viewBox="0 0 16 16"
                  version="1.1"
                  width="16"
                  data-view-component="true"
                  class="octicon octicon-copy js-clipboard-copy-icon"
                >
                  <path
                    d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"
                  />
                  <path
                    d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"
                  />
                </svg>
              </div>
              <div class="toast-container position-fixed bottom-0 end-0 p-3">
                <div
                  id="liveToast"
                  class="toast"
                  role="alert"
                  aria-live="assertive"
                  aria-atomic="true"
                >
                  <div class="toast-header">
                    <strong class="me-auto" style="color: #218838"
                      >Successfully Copied!</strong
                    >
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="toast"
                      aria-label="Close"
                    ></button>
                  </div>
                  <div class="toast-body"></div>
                </div>
              </div>
              <script>
                // Initialize Bootstrap tooltips
                var tooltipTriggerList = [].slice.call(
                  document.querySelectorAll('[data-bs-toggle="tooltip"]')
                );
                var tooltipList = tooltipTriggerList.map(function (
                  tooltipTriggerEl
                ) {
                  return new bootstrap.Tooltip(tooltipTriggerEl);
                });
              </script>
            </div>

            <button
              class="btn btn-secondary mt-3 gc"
              onclick="generateRandomGradient()"
            >
              Generate Random Gradient
            </button>
          </div>
        </div>

        <!-- Live Preview Section -->
        <div class="col-md-6">
          <div class="gradient-preview" id="preview"></div>
        </div>
      </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const color1 = document.getElementById("color1");
      const color2 = document.getElementById("color2");
      const direction = document.getElementById("direction");
      const preview = document.getElementById("preview");
      const gradientCode = document.getElementById("gradientCode");
      const extraColorsDiv = document.getElementById("extraColors");
      const gc = document.querySelector(".gc");
      let colorInputs = [color1, color2];

      color1.addEventListener("input", updatePreview);
      color2.addEventListener("input", updatePreview);
      direction.addEventListener("change", updatePreview);

      function updatePreview() {
        let gradDirection = direction.value;
        let gradColors = colorInputs.map((input) => input.value).join(", ");
        let gradientStyle = `linear-gradient(${gradDirection}, ${gradColors})`;

        preview.style.background = gradientStyle;
        gc.style.background = gradientStyle;
        gradientCode.value = `background: ${gradientStyle};`;
      }
      function copyCode() {
        navigator.clipboard.writeText(gradientCode.value).then(() => {
          const toastBody = document.querySelector(".toast-body");
          toastBody.innerHTML = gradientCode.value;
          const toastTrigger = document.getElementById("liveToastBtn");
          const toastLiveExample = document.getElementById("liveToast");

          if (toastTrigger) {
            const toastBootstrap =
              bootstrap.Toast.getOrCreateInstance(toastLiveExample);
            toastBootstrap.show();
          }
        });
      }

      function addColorInput() {
        if (colorInputs.length < 4) {
          const newColorInput = document.createElement("div");
          newColorInput.classList.add("input-container");
          newColorInput.innerHTML = `
            <label class="input-label" for="color${
              colorInputs.length + 1
            }">Color ${colorInputs.length + 1}:</label>
            <input type="color" id="color${
              colorInputs.length + 1
            }" class="form-control" value="#ff0000" />
          `;
          extraColorsDiv.appendChild(newColorInput);
          const newColor = newColorInput.querySelector("input");
          colorInputs.push(newColor);
          newColor.addEventListener("input", updatePreview);

          if (colorInputs.length === 4) {
            document.querySelector(".add-color-btn").textContent =
              "Remove Added Colors";
            document
              .querySelector(".add-color-btn")
              .classList.replace("add-color-btn", "remove-color-btn");
            document
              .getElementById("rcb")
              .setAttribute("onclick", "removeColorInputs()");
          }
        }
      }

      function removeColorInputs() {
        extraColorsDiv.innerHTML = "";
        colorInputs = [color1, color2];
        document.querySelector(".remove-color-btn").textContent =
          "Add More Colors";
        document
          .querySelector(".remove-color-btn")
          .classList.replace("remove-color-btn", "add-color-btn");
        document
          .getElementById("rcb")
          .setAttribute("onclick", "addColorInput()");
        updatePreview();
      }

      function generateRandomGradient() {
        const randomColor = () =>
          `#${Math.floor(Math.random() * 16777215).toString(16)}`;
        const randomDirection = [
          "to right",
          "to bottom",
          "to top right",
          "to bottom right",
          "to top",
          "to left",
          "to top left",
        ][Math.floor(Math.random() * 7)];

        colorInputs.forEach((input) => (input.value = randomColor()));
        direction.value = randomDirection;
        updatePreview();
      }

      // Initialize with default preview
      updatePreview();
    </script>
  </body>
</html>
